{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/eduar/OneDrive/Documentos/estagio/front-estoque/src/Constantes.js"],"sourcesContent":["export default class Constantes {\r\n    static urlAdmin=\"https://frota-api.smartdatasolutions.com.br/administration/\"\r\n    static url=\"https://frota-api.smartdatasolutions.com.br/stock/\"\r\n}"],"names":[],"mappings":";;;AAAe,MAAM;IACjB,OAAO,WAAS,8DAA6D;IAC7E,OAAO,MAAI,qDAAoD;AACnE","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/eduar/OneDrive/Documentos/estagio/front-estoque/src/Context/AuthContext.js"],"sourcesContent":["\"use client\"\r\nimport {useState, useEffect, createContext} from \"react\";\r\nimport {useRouter, usePathname} from \"next/navigation\";\r\nimport Constantes from '../Constantes';\r\nimport {parseCookies,setCookie} from \"nookies\";\r\n\r\nexport const AuthContext = createContext({});\r\nexport function AuthProvider({children}) {\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const pathname = usePathname();\r\n\r\n    const router = useRouter();\r\n    const [permissions, setPermissions] = useState();\r\n    const [profileName, setProfileName] = useState();\r\n    const [username, setUsername] = useState();\r\n\r\n    const { \"token1\": token1 } = parseCookies();\r\n    const { \"contas\": contas } = parseCookies();\r\n   \r\n   /*  if(contasCookie != undefined){\r\n        setContas(contasCookie);\r\n    } */\r\n\r\n    async function signIn(username,password){ \r\n        \r\n        await fetch(Constantes.urlAdmin + 'admin/login', {\r\n                  method: 'POST',\r\n                  headers: {\r\n                      'Content-Type': 'application/json',\r\n                  },\r\n                  body: JSON.stringify({ \r\n                      username, \r\n                      password\r\n                  }),\r\n                }).then((response) => \r\n                    response.json().then(data => ({\r\n                         headers: response.headers.get(\"authorization\"),\r\n                         status: response.status, \r\n                         body: data }))\r\n                ) \r\n                .then(({headers, status, body}) => {\r\n          \r\n                    switch(status){\r\n                        case 200:\r\n                          setCookie(undefined,\"token1\",headers,{path:\"/\"});\r\n                          body.forEach((_,index) => {\r\n                            body[index].principal = index == 0; \r\n                          });\r\n                          setCookie(undefined,\"contas\",JSON.stringify(body),{path:\"/\"});\r\n                          getInfo(headers,body[0].id);\r\n                          router.push(\"/estoque\");\r\n                        break;\r\n                        case 400:\r\n                          console.log(\"erro:\",body);\r\n                        break;\r\n                        \r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                   console.log(error);\r\n                   /* acionarAlerta(\"warning\", \"Não foi possível cadastrar o Contrato\")\r\n                    setLoading(false); */\r\n                 });\r\n        \r\n    }\r\n\r\n\r\n    async function getInfo(token1,id){ \r\n       \r\n        await fetch(Constantes.urlAdmin + 'admin/info?' + new URLSearchParams({accountId: id}), {\r\n                     method: 'GET',\r\n                     headers: {\r\n                         'Content-Type': 'application/json',\r\n                         'Module': 'ADMINISTRATION',\r\n                         'Authorization': token1\r\n                     },\r\n                     }).then((response) => \r\n                        response.json().then(data => ({\r\n                            headers: response.headers.get(\"authorization\"),\r\n                            status: response.status, \r\n                            body: data }))\r\n                     ) \r\n                     .then(({headers, status, body}) => {\r\n                        \r\n                        switch(status){\r\n                            case 200:\r\n                              /* console.log(headers) */\r\n                              if(contas != undefined){\r\n                                let contasParse = JSON.parse(contas);\r\n                                contasParse.forEach((_,index) => {\r\n                                  contasParse[index].principal =  contasParse[index].id == id; \r\n                                });\r\n                                setCookie(undefined,\"contas\",JSON.stringify(contasParse),{path:\"/\"});\r\n                              }\r\n                              setCookie(undefined,\"token2\",headers,{path:\"/\"});\r\n                              setPermissions(body.permissions);\r\n                              setProfileName(body.profileName);\r\n                              setUsername(body.username);\r\n                            break;\r\n                            case 400:\r\n                              console.log(\"erro:\",body);\r\n                            break;\r\n                            case 404:\r\n                              console.log(\"erro:\",body);\r\n                            break;\r\n                            \r\n                        }\r\n                   })\r\n                   .catch((error) => {\r\n                      console.log(error);\r\n                      /* acionarAlerta(\"warning\", \"Não foi possível cadastrar o Contrato\")\r\n                       setLoading(false); */\r\n                    });\r\n   }\r\n\r\n   useEffect(() => {\r\n\r\n      if(token1 == undefined){\r\n        router.push(\"/login\");\r\n      }else{\r\n        if(pathname.includes(\"estoque\") || pathname.includes(\"/login\")){\r\n           router.push(pathname);\r\n        }else{\r\n           router.push(\"/estoque\")\r\n        }  \r\n\r\n        if(contas != undefined){\r\n          let contasParse = JSON.parse(contas);\r\n          let index = contasParse.findIndex((conta) => conta.principal == true);\r\n          getInfo(token1,contasParse[index].id);\r\n        }\r\n      }\r\n   },[]);\r\n   \r\n   return (\r\n\r\n        <AuthContext.Provider value={{ contas, signIn, getInfo, permissions, profileName, username }}>\r\n            {children}\r\n        </AuthContext.Provider>       \r\n   )\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AAMO,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAAE,CAAC;AACnC,SAAS,aAAa,EAAC,QAAQ,EAAC;;IAEnC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAE3B,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD;IAC7C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD;IAEvC,MAAM,EAAE,UAAU,MAAM,EAAE,GAAG,CAAA,GAAA,2IAAA,CAAA,eAAY,AAAD;IACxC,MAAM,EAAE,UAAU,MAAM,EAAE,GAAG,CAAA,GAAA,2IAAA,CAAA,eAAY,AAAD;IAEzC;;MAEG,GAEF,eAAe,OAAO,QAAQ,EAAC,QAAQ;QAEnC,MAAM,MAAM,oHAAA,CAAA,UAAU,CAAC,QAAQ,GAAG,eAAe;YACvC,QAAQ;YACR,SAAS;gBACL,gBAAgB;YACpB;YACA,MAAM,KAAK,SAAS,CAAC;gBACjB;gBACA;YACJ;QACF,GAAG,IAAI,CAAC,CAAC,WACL,SAAS,IAAI,GAAG,IAAI,CAAC,CAAA,OAAQ,CAAC;oBACzB,SAAS,SAAS,OAAO,CAAC,GAAG,CAAC;oBAC9B,QAAQ,SAAS,MAAM;oBACvB,MAAM;gBAAK,CAAC,IAEpB,IAAI,CAAC,CAAC,EAAC,OAAO,EAAE,MAAM,EAAE,IAAI,EAAC;YAE1B,OAAO;gBACH,KAAK;oBACH,CAAA,GAAA,2IAAA,CAAA,YAAS,AAAD,EAAE,WAAU,UAAS,SAAQ;wBAAC,MAAK;oBAAG;oBAC9C,KAAK,OAAO,CAAC,CAAC,GAAE;wBACd,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,SAAS;oBACnC;oBACA,CAAA,GAAA,2IAAA,CAAA,YAAS,AAAD,EAAE,WAAU,UAAS,KAAK,SAAS,CAAC,OAAM;wBAAC,MAAK;oBAAG;oBAC3D,QAAQ,SAAQ,IAAI,CAAC,EAAE,CAAC,EAAE;oBAC1B,OAAO,IAAI,CAAC;oBACd;gBACA,KAAK;oBACH,QAAQ,GAAG,CAAC,SAAQ;oBACtB;YAEJ;QACJ,GACC,KAAK,CAAC,CAAC;YACL,QAAQ,GAAG,CAAC;QACZ;uCACoB,GACtB;IAEb;IAGA,eAAe,QAAQ,MAAM,EAAC,EAAE;QAE5B,MAAM,MAAM,oHAAA,CAAA,UAAU,CAAC,QAAQ,GAAG,gBAAgB,IAAI,gBAAgB;YAAC,WAAW;QAAE,IAAI;YAC3E,QAAQ;YACR,SAAS;gBACL,gBAAgB;gBAChB,UAAU;gBACV,iBAAiB;YACrB;QACA,GAAG,IAAI,CAAC,CAAC,WACN,SAAS,IAAI,GAAG,IAAI,CAAC,CAAA,OAAQ,CAAC;oBAC1B,SAAS,SAAS,OAAO,CAAC,GAAG,CAAC;oBAC9B,QAAQ,SAAS,MAAM;oBACvB,MAAM;gBAAK,CAAC,IAElB,IAAI,CAAC,CAAC,EAAC,OAAO,EAAE,MAAM,EAAE,IAAI,EAAC;YAE3B,OAAO;gBACH,KAAK;oBACH,wBAAwB,GACxB,IAAG,UAAU,WAAU;wBACrB,IAAI,cAAc,KAAK,KAAK,CAAC;wBAC7B,YAAY,OAAO,CAAC,CAAC,GAAE;4BACrB,WAAW,CAAC,MAAM,CAAC,SAAS,GAAI,WAAW,CAAC,MAAM,CAAC,EAAE,IAAI;wBAC3D;wBACA,CAAA,GAAA,2IAAA,CAAA,YAAS,AAAD,EAAE,WAAU,UAAS,KAAK,SAAS,CAAC,cAAa;4BAAC,MAAK;wBAAG;oBACpE;oBACA,CAAA,GAAA,2IAAA,CAAA,YAAS,AAAD,EAAE,WAAU,UAAS,SAAQ;wBAAC,MAAK;oBAAG;oBAC9C,eAAe,KAAK,WAAW;oBAC/B,eAAe,KAAK,WAAW;oBAC/B,YAAY,KAAK,QAAQ;oBAC3B;gBACA,KAAK;oBACH,QAAQ,GAAG,CAAC,SAAQ;oBACtB;gBACA,KAAK;oBACH,QAAQ,GAAG,CAAC,SAAQ;oBACtB;YAEJ;QACL,GACC,KAAK,CAAC,CAAC;YACL,QAAQ,GAAG,CAAC;QACZ;0CACoB,GACtB;IACjB;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YAEP,IAAG,UAAU,WAAU;gBACrB,OAAO,IAAI,CAAC;YACd,OAAK;gBACH,IAAG,SAAS,QAAQ,CAAC,cAAc,SAAS,QAAQ,CAAC,WAAU;oBAC5D,OAAO,IAAI,CAAC;gBACf,OAAK;oBACF,OAAO,IAAI,CAAC;gBACf;gBAEA,IAAG,UAAU,WAAU;oBACrB,IAAI,cAAc,KAAK,KAAK,CAAC;oBAC7B,IAAI,QAAQ,YAAY,SAAS;wDAAC,CAAC,QAAU,MAAM,SAAS,IAAI;;oBAChE,QAAQ,QAAO,WAAW,CAAC,MAAM,CAAC,EAAE;gBACtC;YACF;QACH;iCAAE,EAAE;IAEJ,qBAEK,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAQ;YAAQ;YAAS;YAAa;YAAa;QAAS;kBACtF;;;;;;AAGb;GAtIgB;;QAGK,qIAAA,CAAA,cAAW;QAEb,qIAAA,CAAA,YAAS;;;KALZ","debugId":null}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/layout.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"root\": \"layout-module__CUj6aG__root\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA"}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/eduar/OneDrive/Documentos/estagio/front-estoque/app/layout.js"],"sourcesContent":["\"use client\"\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect } from \"react\";\r\nimport { parseCookies, setCookie } from \"nookies\";\r\nimport { AuthProvider } from \"@/Context/AuthContext\";\r\nimport styles from \"./layout.module.css\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nexport default function RootLayout({ children }) {\r\n  const router = useRouter();\r\n  const { token1 } = parseCookies();\r\n\r\n  useEffect(() => {\r\n    if (process.env.NODE_ENV === \"development\" && !token1) {\r\n      setCookie(undefined, \"token1\", \"fake_token_teste\");\r\n      router.push(\"/\");\r\n    } else if (!token1) {\r\n      router.push(\"/login\");\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <html suppressHydrationWarning>\r\n      <body className={styles.root}>\r\n        <AuthProvider>\r\n          {children}\r\n        </AuthProvider>\r\n      </body>\r\n    </html>\r\n  );\r\n}"],"names":[],"mappings":";;;AAaQ;;AAZR;AACA;AACA;AACA;AACA;;;AALA;;;;;;;AAQe,SAAS,WAAW,EAAE,QAAQ,EAAE;;IAC7C,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,2IAAA,CAAA,eAAY,AAAD;IAE9B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACR,IAAI,oDAAyB,iBAAiB,CAAC,QAAQ;gBACrD,CAAA,GAAA,2IAAA,CAAA,YAAS,AAAD,EAAE,WAAW,UAAU;gBAC/B,OAAO,IAAI,CAAC;YACd,OAAO,IAAI,CAAC,QAAQ;gBAClB,OAAO,IAAI,CAAC;YACd;QACF;+BAAG,EAAE;IAEL,qBACE,6LAAC;QAAK,wBAAwB;kBAC5B,cAAA,6LAAC;YAAK,WAAW,4HAAA,CAAA,UAAM,CAAC,IAAI;sBAC1B,cAAA,6LAAC,gIAAA,CAAA,eAAY;0BACV;;;;;;;;;;;;;;;;AAKX;GAtBwB;;QACP,qIAAA,CAAA,YAAS;;;KADF","debugId":null}}]
}